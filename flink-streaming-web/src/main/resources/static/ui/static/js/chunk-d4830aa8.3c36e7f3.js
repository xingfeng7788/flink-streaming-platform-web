(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d4830aa8"],{"01a0":function(t,e,r){"use strict";r("47e3")},"47e3":function(t,e,r){},"7ea2":function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return n})),r.d(e,"a",(function(){return i})),r.d(e,"d",(function(){return c}));var a=r("b775"),l=r("4328"),s=r.n(l);function o(t,e,r,l){return Object(a["a"])({url:"/listCluster",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(t){return s.a.stringify(t)}],data:{pageNum:t,pageSize:e,clusterName:r,clusterMasterIp:l}})}function n(t){return Object(a["a"])({url:"/delCluster",method:"get",params:{id:t}})}function i(t){return Object(a["a"])({url:"/addCluster",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(t){return s.a.stringify(t)}],data:t})}function c(t){return Object(a["a"])({url:"/editCluster",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(t){return s.a.stringify(t)}],data:t})}},cf2c:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],class:"fl-jarcluster-container fl-cluster-edit"+(t.isReadOnly?" fl-cluster-edit__isRead":"")},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"返回",placement:"right"}},[r("i",{ref:"backbutton",staticClass:"el-icon-d-arrow-left fl-back",on:{click:function(e){return t.handleBack()}}})]),r("el-form",{ref:"clusterform",attrs:{model:t.form,rules:t.rules,disabled:t.isReadOnly,"label-width":"150px",size:"small"}},["UpdateClusterCfg"===t.$route.name?r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"编号",prop:"id"}},[r("el-input",{attrs:{placeholder:"集群编号",disabled:""},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1)],1)],1):t._e(),r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"集群名称",prop:"clusterName"}},[r("el-input",{attrs:{placeholder:"请输入集群名称(必填)"},model:{value:t.form.clusterName,callback:function(e){t.$set(t.form,"clusterName",e)},expression:"form.clusterName"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"主节点IP",prop:"clusterMasterIp"}},[r("el-input",{attrs:{placeholder:"请输入主节点IP(必填) flink管理平台部署IP"},model:{value:t.form.clusterMasterIp,callback:function(e){t.$set(t.form,"clusterMasterIp",e)},expression:"form.clusterMasterIp"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"Yarn RM Http地址"}},[r("el-input",{attrs:{placeholder:"yarn-per-job 和 yarn-application模式必选, aws yarn Resource Manager 默认端口 8088"},model:{value:t.form.yarnRmPort,callback:function(e){t.$set(t.form,"yarnRmPort",e)},expression:"form.yarnRmPort"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"Flink服务HTTP地址"}},[r("el-input",{attrs:{placeholder:"Flink Rest & web frontend 地址(Local Cluster模式)"},model:{value:t.form.flinkHttpPort,callback:function(e){t.$set(t.form,"flinkHttpPort",e)},expression:"form.flinkHttpPort"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"Flink-UI端口"}},[r("el-input",{attrs:{placeholder:"Flink-UI端口,aws flink WEB UI 默认端口 28888"},model:{value:t.form.flinkUiPort,callback:function(e){t.$set(t.form,"flinkUiPort",e)},expression:"form.flinkUiPort"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"HA服务HTTP端口"}},[r("el-input",{attrs:{placeholder:"Flink Rest & web frontend HA 端口"},model:{value:t.form.flinkHaHttpPort,callback:function(e){t.$set(t.form,"flinkHaHttpPort",e)},expression:"form.flinkHaHttpPort"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"集群备注"}},[r("el-input",{attrs:{placeholder:"请输入集群备注",type:"textarea"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1)],1),!1===t.isReadOnly?r("el-row",{staticClass:"fl-button-row"},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:""}},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitcluster()}}},[t._v("提 交")])],1)],1)],1):t._e()],1)],1)},l=[],s=(r("ac1f"),r("5319"),r("7ea2")),o={name:"Jarcluster",data:function(){return{loading:!1,params:{flag:"",data:{},context:""},isReadOnly:!1,form:{id:"",clusterName:"",clusterMasterIp:"",yarnRmPort:"",flinkHttpPort:"",flinkUiPort:"",flinkHaHttpPort:"",remark:""},rules:{clusterName:[{required:!0,message:"请输入集群名称",trigger:"blur"}],clusterMasterIp:[{required:!0,message:"请输入主节点IP",trigger:"blur"}]}}},mounted:function(){var t=this.$route.params;this.params.flag=t.flag,this.params.context=t.context,this.params.data=t.data||{};var e=t.data;this.isReadOnly=!("create"===t.flag||"update"===t.flag),this.form.id=e.id?e.id:"",this.form.clusterName=e.clusterName?e.clusterName:"",this.form.clusterMasterIp=e.clusterMasterIp?e.clusterMasterIp:"",this.form.yarnRmPort=e.yarnRmPort?e.yarnRmPort:"",this.form.flinkHttpPort=e.flinkHttpPort?e.flinkHttpPort:"",this.form.flinkUiPort=e.flinkUiPort?e.flinkUiPort:"",this.form.flinkHaHttpPort=e.flinkHaHttpPort?e.flinkHaHttpPort:"",this.form.remark=e.remark?e.remark:""},methods:{handleBack:function(){this.$router.replace({name:"ClusterCfg",params:this.params.context})},submitcluster:function(){var t=this;this.$refs.clusterform.validate((function(e){if(!e)return!1;var r=t.form.clusterName,a={id:t.form.id,clusterName:t.form.clusterName,clusterMasterIp:t.form.clusterMasterIp,yarnRmPort:t.form.yarnRmPort,flinkHttpPort:t.form.flinkHttpPort,flinkUiPort:t.form.flinkUiPort,flinkHaHttpPort:t.form.flinkHaHttpPort,remark:t.form.remark};a.id||"create"!==t.params.flag?a.id&&"update"===t.params.flag&&Object(s["d"])(a).then((function(e){t.loading=!1;var a=e.code,l=(e.data,e.success),s=e.message;"200"===a&&l?(t.$message({type:"success",message:"修改集群[".concat(r,"]成功！")}),t.$refs.backbutton.click()):t.$message({type:"error",message:s||"请求数据异常！"})})).catch((function(e){t.loading=!1,t.$message({type:"error",message:"请求异常！"}),console.log(e)})):Object(s["a"])(a).then((function(e){t.loading=!1;var a=e.code,l=(e.data,e.success),s=e.message;"200"===a&&l?(t.$message({type:"success",message:"新增集群[".concat(r,"]成功！")}),t.$refs.backbutton.click()):t.$message({type:"error",message:s||"请求数据异常！"})})).catch((function(e){t.loading=!1,t.$message({type:"error",message:"请求异常！"}),console.log(e)}))}))}}},n=o,i=(r("01a0"),r("2877")),c=Object(i["a"])(n,a,l,!1,null,"2026acce",null);e["default"]=c.exports}}]);